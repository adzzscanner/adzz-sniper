<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"/>
<title>Adzz Sniper â€” 53-Coin Universe</title>

<style>
* { box-sizing: border-box; margin: 0; padding: 0; }
body {
  font-family: monospace;
  background: #0f0f1b;
  color: #0af;
  padding: 8px;
}
h1 { text-align:center; color:#0f0; margin-bottom:6px; }
.status {
  background:#1a1a2e;
  padding:8px;
  margin:8px 0;
  border-radius:5px;
  text-align:center;
}
.section {
  background:#16213e;
  margin:8px 0;
  padding:8px;
  border-radius:6px;
}
.chaos { border-left:4px solid #ff5555; }
.flash { border-left:4px solid #ffaa00; }
.normal { border-left:4px solid #00ff00; }
.coin-row {
  background:#0d0d1a;
  margin:5px 0;
  padding:6px;
  border-radius:4px;
}
button {
  width:100%;
  padding:12px;
  margin-top:10px;
  background:#00ff00;
  border:none;
  font-weight:bold;
  cursor:pointer;
}
.zone-header {
  display:flex;
  justify-content:space-between;
  margin-bottom:4px;
}
</style>
</head>

<body>
<h1>Adzz Sniper â€” 53-Coin Universe</h1>
<div class="status" id="status">Tap SCAN to start</div>

<div class="section chaos">
  <div class="zone-header"><b>ðŸ”´ CHAOS</b><span id="chaosCount">0</span></div>
  <div id="chaosOutput">No setups</div>
</div>

<div class="section flash">
  <div class="zone-header"><b>ðŸŸ  FLASH</b><span id="flashCount">0</span></div>
  <div id="flashOutput">No setups</div>
</div>

<div class="section normal">
  <div class="zone-header"><b>ðŸŸ¢ NORMAL</b><span id="normalCount">0</span></div>
  <div id="normalOutput">No setups</div>
</div>

<button onclick="startScan()">SCAN</button>

<script>
// ===== COIN UNIVERSE =====
const APPROVED_NORMAL = [
  "BTC","ETH","SOL","BNB","XRP","ADA","AVAX","DOT","LINK","LTC",
  "INJ","TAO","FET","RENDER","SEI","SUI","APT","ARB","OP","NEAR",
  "UNI","AAVE","COMP","SNX","LDO","MATIC","IMX","ICP","FIL","ATOM",
  "ALGO","CAKE","ZEC","XLM","ETC","VET","THETA","FLOW"
];

const FLASH_COINS = [
  "JUP","PYTH","PIXEL","TNSR","STG","HOOK","MAGIC","ZRO",
  "PORTAL","NIL","ONDO","W","CRV","PENDLE","UNI"
];

const COINS = [...new Set([...APPROVED_NORMAL, ...FLASH_COINS])];
const BASE = "https://api.binance.com/api/v3";

// ===== UTILS =====
async function fetchJSON(url) {
  try {
    const r = await fetch(url);
    if (!r.ok) throw new Error();
    return await r.json();
  } catch {
    return null;
  }
}

const klines = (s,i,l) =>
  fetchJSON(`${BASE}/klines?symbol=${s}USDT&interval=${i}&limit=${l}`);

function EMA(arr,p){
  const k=2/(p+1); let e=arr[0];
  for(let i=1;i<arr.length;i++) e=arr[i]*k+e*(1-k);
  return e;
}
const dropPct = (h,p)=>((Math.max(...h)-p)/Math.max(...h))*100;

// ===== BTC CHECK =====
async function btcRange(interval){
  const k=await klines("BTC",interval,25);
  if(!k) return 99;
  const h=k.map(x=>+x[2]), l=k.map(x=>+x[3]);
  return ((Math.max(...h)-Math.min(...l))/Math.min(...l))*100;
}

// ===== DETECTOR =====
async function detect(coin,btc24){
  // CHAOS 4H
  const k4=await klines(coin,'4h',50);
  if(k4){
    const h=k4.map(x=>+x[2]), c=k4.map(x=>+x[4]);
    const p=c.at(-1);
    const d=dropPct(h,p);
    if(d>=30 && d<=70 && EMA(c.slice(-7),7)<EMA(c.slice(-25),25))
      return {zone:'chaos',coin,price:p,tp:p*1.15};
  }

  // FLASH / NORMAL 1H
  const k1=await klines(coin,'1h',25);
  if(!k1) return null;
  const h=k1.map(x=>+x[2]), c=k1.map(x=>+x[4]), v=k1.map(x=>+x[5]);
  const p=c.at(-1), d=dropPct(h,p);
  const vol=v.slice(-24).reduce((a,b)=>a+b,0);

  if(d>=10 && d<30 && btc24>=2 && btc24<=6 && vol>2e6)
    return {zone:'flash',coin,price:p,tp:p*1.15};

  if(d>=5 && d<10 && APPROVED_NORMAL.includes(coin) && vol>2e6)
    return {zone:'normal',coin,price:p,tp:p*1.10};

  return null;
}

// ===== RENDER =====
function render(zone,data,limit,msg){
  document.getElementById(zone+"Count").textContent=data.length;
  document.getElementById(zone+"Output").innerHTML =
    data.length
    ? data.slice(0,limit).map(x=>
      `<div class="coin-row">${x.coin} @ $${x.price.toFixed(4)} â†’ TP $${x.tp.toFixed(4)}</div>`
      ).join('')
    : msg;
}

// ===== MAIN SCAN =====
async function startScan(){
  const status=document.getElementById("status");
  status.textContent="Checking BTCâ€¦";

  const btc48=await btcRange('4h');
  const btc24=await btcRange('1h');

  if(btc48>8){
    status.textContent="ðŸ”´ BTC volatile â€” NO TRADES";
    return;
  }

  const res={chaos:[],flash:[],normal:[]};

  for(let i=0;i<COINS.length;i++){
    status.textContent=`ðŸŸ¢ BTC ${btc48.toFixed(1)}% â€¢ Scanning ${i+1}/${COINS.length} â€” ${COINS[i]}`;
    const r=await detect(COINS[i],btc24);
    if(r) res[r.zone].push(r);
    await new Promise(r=>setTimeout(r,120));
  }

  render('chaos',res.chaos,1,"No Chaos");
  render('flash',res.flash,2,"No Flash");
  render('normal',res.normal,5,"No Normal");

  status.textContent=`âœ… Scan complete â€” ${res.chaos.length+res.flash.length+res.normal.length} setups`;
}
</script>
</body>
</html>
