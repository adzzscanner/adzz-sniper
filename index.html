<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Phase 1 Recovery Mode Scanner — Actionable Only</title>
<style>
  body { font-family: monospace; background: #0f0f0f; color: #e0e0e0; padding: 16px; }
  h1 { color: #4ade80; text-align:center; }
  table { width:100%; border-collapse: collapse; margin-top: 12px; }
  th, td { padding: 8px; text-align:center; border:1px solid #333; }
  th { background:#111; }
  td { background:#1a1a1a; }
  .x5 { color:#f87171; }
  .x3 { color:#fcd34d; }
  .x2 { color:#93c5fd; }
</style>
</head>
<body>

<h1>Phase 1 Recovery Mode Scanner — Actionable Only</h1>

<table>
  <thead>
    <tr>
      <th>Coin</th>
      <th>Current</th>
      <th>Crash Low</th>
      <th>Dip%</th>
      <th>Volume($M)</th>
      <th>MACD</th>
      <th>Score</th>
      <th>Leverage</th>
      <th>Action</th>
    </tr>
  </thead>
  <tbody id="scanner-output">
    <tr><td colspan="9">Scanning...</td></tr>
  </tbody>
</table>

<script>
// Mock coin data
const coins = [
  {symbol:"ZEN", current:8.57, low48h:8.39, dip:3.33, volume:9.85, macdRising:true, timeAboveSupport:120},
  {symbol:"LIT", current:2.15, low48h:2.05, dip:4.88, volume:3.2, macdRising:false, timeAboveSupport:50},
  {symbol:"BONK", current:0.0021, low48h:0.002, dip:5, volume:5, macdRising:true, timeAboveSupport:100},
  {symbol:"DOGE", current:0.075, low48h:0.073, dip:2.7, volume:10, macdRising:true, timeAboveSupport:60},
  {symbol:"XPLUS", current:0.48, low48h:0.45, dip:6.7, volume:1.8, macdRising:true, timeAboveSupport:90}
];

// BTC gate
const btc24hChange = 0.01; // 1%

function scanCoins() {
  const tbody = document.getElementById("scanner-output");
  tbody.innerHTML = "";
  
  // Filter and output only actionable coins
  const actionable = coins.filter(c => {
    // Skip permanently excluded
    if(["BTC","ETH","BNB","XRP"].includes(c.symbol)) return false;
    
    // Recovery Mode conditions
    const recovery = (
      c.dip >= 2.5 && c.dip <= 8 &&
      c.volume >= 3 &&
      btc24hChange >= -0.03 && btc24hChange <= 0.03
    );

    // Safety Clause
    const trap = (c.timeAboveSupport < 90);

    // Score
    const score = Math.round((c.dip/8)*40 + (c.volume/10)*30 + (c.macdRising?30:0));

    // Only actionable if recovery true, not trap, score ≥75
    return recovery && !trap && score >= 75;
  });

  if(actionable.length===0){
    tbody.innerHTML = `<tr><td colspan="9">No actionable grids — wait</td></tr>`;
    return;
  }

  // Output table rows
  actionable.forEach(c => {
    const score = Math.round((c.dip/8)*40 + (c.volume/10)*30 + (c.macdRising?30:0));
    let leverage = "";
    if(c.dip>=5 && c.volume>=5 && c.timeAboveSupport>=90) leverage="x5";
    else if(c.dip>=3) leverage="x3";
    else leverage="x2";

    tbody.innerHTML += `
      <tr>
        <td>${c.symbol}</td>
        <td>${c.current}</td>
        <td>${c.low48h}</td>
        <td>${c.dip.toFixed(2)}%</td>
        <td>${c.volume.toFixed(2)}</td>
        <td>${c.macdRising?"Rising":"Falling"}</td>
        <td>${score}</td>
        <td class="${leverage}">${leverage}</td>
        <td>✅ Deploy Grid</td>
      </tr>
    `;
  });
}

// Initial scan
scanCoins();
</script>

</body>
</html>
